ğŸš€ Starting Comprehensive Test Suite for Werwolf Game
==================================================
[0;34mğŸ“‹ Test Configuration:[0m
Base URL: http://localhost:3000
Vercel URL: 
Node Version: v24.8.0
NPM Version: 11.6.0

[1;33mğŸ” Checking Local Development server status...[0m
[0;32mâœ… Local Development server is running at http://localhost:3000[0m

[0;34mğŸ§ª Starting Test Execution...[0m
==================================================

[0;34mğŸ¯ Running Core Game Logic Tests[0m

[0;34mğŸ§ª Running: Core Game Logic Tests[0m
Test URL: http://localhost:3000
Test File: tests/core/game-logic.test.js
ğŸ¯ Starting Core Game Logic Tests
ğŸ“ Testing against: http://localhost:3000

ğŸ® Setting up test game...
âœ… Game created with code: 034670
âœ… Player 1 joined: Player1
âœ… Player 2 joined: Player2
âœ… Player 3 joined: Player3
âœ… Player 4 joined: Player4
âœ… Player 5 joined: Player5
âœ… Player 6 joined: Player6
âœ… Game setup complete with 7 total players

ğŸ§ª Running test: Game Creation

ğŸ¯ Testing game creation...
âœ… Game creation works correctly
âœ… Game Creation - PASSED

ğŸ§ª Running test: Player Joining

ğŸ‘¥ Testing player joining...
âœ… Player joining works correctly
âœ… Player Joining - PASSED

ğŸ§ª Running test: Role Assignment

ğŸ­ Testing role assignment...
âœ… Role assignment works correctly
âœ… Role Assignment - PASSED

ğŸ§ª Running test: Sound Effect Implementation
ğŸ”Š Testing sound effect implementation...
ğŸ”§ Debug: Game phase after role assignment: night_wolf
âœ… Sound effect implementation test passed (manual verification required)
âœ… Sound Effect Implementation - PASSED

ğŸ§ª Running test: Win Conditions

ğŸ† Testing win conditions...
Current alive players: 7
ğŸ”§ Game state after role assignment: {
  players: [
    { name: 'TestHost', role: null, alive: true, is_host: true },
    { name: 'Player6', role: 'werewolf', alive: true, is_host: false },
    { name: 'Player2', role: 'police', alive: true, is_host: false },
    { name: 'Player5', role: 'doctor', alive: true, is_host: false },
    { name: 'Player1', role: 'villager', alive: true, is_host: false },
    { name: 'Player3', role: 'villager', alive: true, is_host: false },
    { name: 'Player4', role: 'villager', alive: true, is_host: false }
  ]
}
âœ… Werewolf selected target: Player2
âœ… Doctor saved: Player2
Current phase before reveal_dead: night_police
Reveal dead response: { success: true, deadPlayerId: null, winState: null }
ğŸ”§ Getting game state for iteration 1...
âœ… Got game state, phase: day_vote
ğŸ”§ Win condition check: {
  alivePlayers: 6,
  aliveWerwolves: 1,
  werewolfNames: [ 'Player6' ],
  allPlayers: [
    { name: 'Player6', role: 'werewolf', alive: true },
    { name: 'Player2', role: 'police', alive: true },
    { name: 'Player5', role: 'doctor', alive: true },
    { name: 'Player1', role: 'villager', alive: true },
    { name: 'Player3', role: 'villager', alive: true },
    { name: 'Player4', role: 'villager', alive: true }
  ]
}
ğŸ”§ Voting iteration 1: {
  alivePlayers: 6,
  werewolf: 'Player6',
  villagers: [ 'Player2', 'Player5', 'Player1', 'Player3', 'Player4' ],
  villagersCount: 5
}
ğŸ¯ Voting to eliminate villager: Player2
âœ… Eliminate response: {
  success: true,
  eliminatedPlayerId: '82b05e9c-4e34-4b14-b0f8-6601b4c0615e',
  wasWerwolf: false,
  winState: null
}
âœ… Eliminated player 1/1
âœ… Reached target eliminations, ending test
ğŸ“Š Final game state: { alivePlayers: 5, werwolves: 1, phase: 'night_wolf', winState: null }
âœ… Test passed - werewolf survived elimination of 1 villager
âœ… Final alive players: 5 (werewolf + 4 villagers)
âœ… Werewolf: Player6
âœ… Win Conditions - PASSED

ğŸ“Š Core Game Logic Test Results:
==================================================
âœ… Game Creation: PASSED
âœ… Player Joining: PASSED
âœ… Role Assignment: PASSED
âœ… Sound Effect Implementation: PASSED
âœ… Win Conditions: PASSED
==================================================
Total: 5 | Passed: 5 | Failed: 0
ğŸ‰ All core game logic tests passed!
[0;32mâœ… Core Game Logic Tests: PASSED[0m

[0;34mğŸ§ª Running: Player Ordering Tests[0m
Test URL: http://localhost:3000
Test File: tests/core/test-player-ordering.js
ğŸ¯ Testing Player Ordering Logic...
ğŸ“ Test 1: Creating game as host...
âœ… Game created with code: 087534
ğŸ“ Test 2: Joining as multiple players...
âœ… All players joined successfully
ğŸ“ Test 3: Assigning roles...
âœ… Roles assigned successfully
ğŸ“ Test 4: Verifying player ordering...
âœ… Host is first in the list
âœ… Current player is second in the list
ğŸ“ Test 5: Testing dead player ordering...
ğŸ”§ Simulating death of player: Player5
âœ… Dead players are properly placed at the end
ğŸ‰ All player ordering tests passed!
[0;32mâœ… Player Ordering Tests: PASSED[0m

[0;34mğŸ”’ Running Security Tests[0m

[0;34mğŸ§ª Running: Role Visibility Security Tests[0m
Test URL: http://localhost:3000
Test File: tests/security/test-role-visibility.js
ğŸ”’ Testing Role Visibility Security...
ğŸ“ Test 1: Creating game as host...
âœ… Game created with code: 810964
ğŸ“ Test 2: Joining as player 1...
ğŸ“ Test 3: Joining as player 2...
ğŸ“ Test 4: Joining as player 3...
ğŸ“ Test 5: Joining as player 4...
ğŸ“ Test 6: Joining as player 5...
ğŸ“ Test 7: Joining as player 6...
ğŸ“ Test 8: Assigning roles as host...
âœ… Roles assigned successfully
ğŸ“ Test 9: Verifying role visibility security...
âœ… Host can see all roles correctly
âœ… Player 1 can only see their own role
âœ… Player 2 can only see their own role
ğŸ‰ All role visibility security tests passed!
[0;32mâœ… Role Visibility Security Tests: PASSED[0m

[0;34mğŸ§ª Running: Phase Timing Security Tests[0m
Test URL: http://localhost:3000
Test File: tests/security/test-phase-timing-security.js
ğŸ”’ Testing Phase Timing Security...
ğŸ“ Test 1: Setting up game with players...
âœ… Game setup completed
ğŸ“ Test 2: Verifying initial phase_started state...
âœ… phase_started is false initially
ğŸ“ Test 3: Verifying werewolf cannot act before host starts phase...
âœ… Werewolf cannot act before host starts phase
ğŸ“ Test 4: Host starting werewolf phase...
âœ… Werewolf phase started by host
ğŸ“ Test 5: Verifying phase_started is now true...
âœ… phase_started is true after host starts phase
ğŸ“ Test 6: Verifying werewolf can now act...
ğŸ”§ Debug: All players and their roles:
  - HostPlayer (host-client-123): no role (HOST)
  - VillagerPlayer3 (player6-client-114): werewolf 
  - DoctorPlayer (player2-client-789): police 
  - VillagerPlayer2 (player5-client-113): doctor 
  - WerewolfPlayer (player1-client-456): villager 
  - VillagerPlayer1 (player4-client-112): villager 
  - PolicePlayer (player3-client-101): villager 
ğŸ”§ Debug: Werewolf player: {
  name: 'VillagerPlayer3',
  role: 'werewolf',
  clientId: 'player6-client-114'
}
ğŸ”§ Debug: Target player: {
  name: 'DoctorPlayer',
  role: 'police',
  clientId: 'player2-client-789'
}
âœ… Werewolf can act after host starts phase
ğŸ“ Test 7: Verifying doctor cannot act during werewolf phase...
âœ… Doctor cannot act during werewolf phase
ğŸ“ Test 8: Verifying police cannot act during werewolf phase...
âœ… Police cannot act during werewolf phase
ğŸ‰ All phase timing security tests passed!
[0;32mâœ… Phase Timing Security Tests: PASSED[0m

[0;34mğŸ§ª Running: Multiple Actions Prevention Tests[0m
Test URL: http://localhost:3000
Test File: tests/security/test-multiple-actions-prevention.js
/Users/fshaik/wearwolf/tests/security/test-multiple-actions-prevention.js:37
    this.gameId = hostResponse.gameId     this.gameId = hostResponse.game.id
                                          ^^^^

SyntaxError: Unexpected token 'this'
    at wrapSafe (node:internal/modules/cjs/loader:1691:18)
    at Module._compile (node:internal/modules/cjs/loader:1734:20)
    at Object..js (node:internal/modules/cjs/loader:1893:10)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:244:24)
    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
    at node:internal/main/run_main_module:33:47

Node.js v24.8.0
[0;31mâŒ Multiple Actions Prevention Tests: FAILED[0m

[0;34mğŸ¨ Running UI Tests[0m

[0;34mğŸ§ª Running: Game Screen Layout Tests[0m
Test URL: http://localhost:3000
Test File: tests/ui/test-game-screen-layout.js
ğŸ¨ Testing Game Screen Layout and Styling...
ğŸ“ Test 1: Setting up game with players...
âœ… Game setup completed
ğŸ“ Test 2: Verifying role visibility security...
âœ… Host can see all roles correctly
âœ… Werewolf can only see their own role
âœ… Villager can only see their own role
ğŸ“ Test 3: Verifying player ordering...
âœ… Host is first in the list
âœ… Current player is second in the list
ğŸ“ Test 4: Verifying game phase transition...
âœ… Game phase is correctly set to lobby (ready for host to start)
ğŸ“ Test 5: Verifying action screen timing...
âœ… Phase is not started until host action
ğŸ‰ All game screen layout tests passed!
[0;32mâœ… Game Screen Layout Tests: PASSED[0m

[0;34mğŸ§ª Running: Mobile Layout Ordering Tests[0m
Test URL: http://localhost:3000
Test File: tests/ui/test-mobile-layout-ordering.js
ğŸ“± Testing Mobile Layout Ordering...
ğŸ“ Test 1: Setting up game with players...
âœ… Game setup completed
ğŸ“ Test 2: Verifying initial state (no active action screens)...
âœ… Werewolf cannot act before host starts phase
ğŸ“ Test 3: Host starting werewolf phase...
âœ… Werewolf phase started by host
ğŸ“ Test 4: Verifying werewolf can now act...
âœ… Werewolf can now act after host starts phase
ğŸ“ Test 5: Verifying mobile layout ordering logic...
âœ… hasActiveActionScreen logic works correctly
ğŸ“ Test 6: Verifying villager cannot act during werewolf phase...
âœ… Villager cannot act during werewolf phase
ğŸ“ Test 7: Verifying villager has no active action screen...
âœ… Villager has no active action screen during werewolf phase
ğŸ‰ All mobile layout ordering tests passed!
[0;32mâœ… Mobile Layout Ordering Tests: PASSED[0m

[0;34mğŸ§ª Running: Reveal Dead Button Tests[0m
Test URL: http://localhost:3000
Test File: tests/ui/test-reveal-dead-button.js
/Users/fshaik/wearwolf/tests/ui/test-reveal-dead-button.js:37
    this.gameId = hostResponse.gameId     this.gameId = hostResponse.game.id
                                          ^^^^

SyntaxError: Unexpected token 'this'
    at wrapSafe (node:internal/modules/cjs/loader:1691:18)
    at Module._compile (node:internal/modules/cjs/loader:1734:20)
    at Object..js (node:internal/modules/cjs/loader:1893:10)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:244:24)
    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
    at node:internal/main/run_main_module:33:47

Node.js v24.8.0
[0;31mâŒ Reveal Dead Button Tests: FAILED[0m

[0;34mğŸ§ª Running: Action Visibility Tests[0m
Test URL: http://localhost:3000
Test File: tests/ui/test-action-visibility.js
ğŸ§ª Testing Action Visibility...

ğŸ“ Step 1: Creating game...
âœ… Game created: 069642
ğŸ“ Step 2: Adding 6 players...
âœ… 6 players added
ğŸ“ Step 3: Assigning roles...
âŒ Action Visibility Test Failed: HTTP 404: {"error":"Game not found"}
[0;31mâŒ Action Visibility Tests: FAILED[0m

[0;34mğŸ”— Running Integration Tests[0m

[0;34mğŸ§ª Running: Real-time Sync Tests[0m
Test URL: http://localhost:3000
Test File: tests/integration/real-time-sync.test.js
ğŸ”§ Starting Real-time Sync Integration Tests
ğŸ“ Testing against: http://localhost:3000

ğŸ® Setting up test game...
âœ… Game created with code: 402949
âœ… Player 1 joined: Player1
âœ… Player 2 joined: Player2
âœ… Player 3 joined: Player3
âœ… Player 4 joined: Player4
âœ… Player 5 joined: Player5
âœ… Player 6 joined: Player6
âœ… Game setup complete with 7 total players

ğŸ§ª Running test: Real-time Events for Host

ğŸ”§ Testing real-time events for host...
âœ… Roles assigned successfully
âœ… Game started successfully
âœ… Round state created for real-time tracking
Available players: [
  { name: 'TestHost', role: null, is_host: true },
  { name: 'Player1', role: 'werewolf', is_host: false },
  { name: 'Player6', role: 'police', is_host: false },
  { name: 'Player4', role: 'doctor', is_host: false },
  { name: 'Player3', role: 'villager', is_host: false },
  { name: 'Player5', role: 'villager', is_host: false },
  { name: 'Player2', role: 'villager', is_host: false }
]
âœ… Werewolf action completed
âœ… Real-time round state update verified
âœ… Real-time Events for Host - PASSED

ğŸ§ª Running test: Host Voting Exclusion

ğŸ—³ï¸ Testing host voting exclusion...
âœ… Advanced to day vote phase
Current game phase: day_vote
âœ… Host correctly prevented from voting
âœ… Regular player voting works correctly
âœ… Host Voting Exclusion - PASSED

ğŸ§ª Running test: Player Management

ğŸ‘¥ Testing player management...
ğŸ” Looking for player with client_id: test-player-1-1758676503030
ğŸ” Available players: test-host-1758676502163, test-player-1-1758676503030, test-player-6-1758676509084, test-player-4-1758676507006, test-player-3-1758676505808, test-player-5-1758676508072, test-player-2-1758676504569
ğŸ” Player to remove ID: 71bcd13d-6d34-4f94-80f2-2e9a81620716
ğŸ” Player to remove name: Player1
âœ… Player removal works correctly
âœ… Player removal verified
âœ… Player Management - PASSED

ğŸ§ª Running test: Leave Request System

ğŸšª Testing leave request system...
âœ… Leave request created
âœ… Leave request approved
âœ… Leave request system works correctly
âœ… Leave Request System - PASSED

ğŸ§ª Running test: Mobile UI Layout
ğŸ“± Testing mobile UI layout...
âš ï¸ Not enough players (4/6) to assign roles, skipping role assignment
âœ… Mobile UI layout test passed
âœ… Mobile UI Layout - PASSED

ğŸ§ª Running test: Host Redirect Prevention

ğŸš« Testing host redirect prevention...
ğŸ” Game found with phase: night_wolf
âœ… Game ended successfully
âœ… Game ended and cleaned up successfully
âœ… Host Redirect Prevention - PASSED

ğŸ“Š Real-time Sync Integration Test Results:
==================================================
âœ… Real-time Events for Host: PASSED
âœ… Host Voting Exclusion: PASSED
âœ… Player Management: PASSED
âœ… Leave Request System: PASSED
âœ… Mobile UI Layout: PASSED
âœ… Host Redirect Prevention: PASSED
==================================================
Total: 6 | Passed: 6 | Failed: 0
ğŸ‰ All real-time sync integration tests passed!
[0;32mâœ… Real-time Sync Tests: PASSED[0m

[0;34mğŸ Running End Game Tests[0m

[0;34mğŸ§ª Running: End Game Logic Tests[0m
Test URL: http://localhost:3000
Test File: tests/end-game/test-end-game-logic.js
ğŸ”§ [2025-09-24T01:15:43.411Z] ğŸš€ Starting end game logic tests...
ğŸ”§ [2025-09-24T01:15:43.416Z] 
ğŸ§ª Running: End Game Logic with Two Players
ğŸ”§ [2025-09-24T01:15:43.416Z] ğŸ§ª Testing end game logic when only 2 players remain...
ğŸ”§ [2025-09-24T01:15:43.416Z] Creating test game...
ğŸ”§ [2025-09-24T01:15:44.223Z] Game created with code: 037188
ğŸ”§ [2025-09-24T01:15:44.223Z] Player Player1 joining game 037188...
ğŸ”§ [2025-09-24T01:15:45.193Z] Player Player1 joined successfully
ğŸ”§ [2025-09-24T01:15:45.193Z] Player Player2 joining game 037188...
ğŸ”§ [2025-09-24T01:15:46.243Z] Player Player2 joined successfully
ğŸ”§ [2025-09-24T01:15:46.243Z] Player Player3 joining game 037188...
ğŸ”§ [2025-09-24T01:15:47.421Z] Player Player3 joined successfully
ğŸ”§ [2025-09-24T01:15:47.421Z] Player Player4 joining game 037188...
ğŸ”§ [2025-09-24T01:15:48.484Z] Player Player4 joined successfully
ğŸ”§ [2025-09-24T01:15:48.484Z] Player Player5 joining game 037188...
ğŸ”§ [2025-09-24T01:15:49.526Z] Player Player5 joined successfully
ğŸ”§ [2025-09-24T01:15:49.526Z] Player Player6 joining game 037188...
ğŸ”§ [2025-09-24T01:15:50.573Z] Player Player6 joined successfully
ğŸ”§ [2025-09-24T01:15:50.573Z] Assigning roles to players...
ğŸ”§ [2025-09-24T01:15:53.533Z] Roles assigned successfully
âŒ [2025-09-24T01:15:55.719Z] âŒ End game logic test failed: Game should transition to night_wolf after role assignment
âŒ [2025-09-24T01:15:55.719Z] âŒ End Game Logic with Two Players: FAILED
ğŸ”§ [2025-09-24T01:15:57.721Z] 
ğŸ§ª Running: Host Exclusion from Win Conditions
ğŸ”§ [2025-09-24T01:15:57.722Z] ğŸ§ª Testing host exclusion from win conditions...
ğŸ”§ [2025-09-24T01:15:57.722Z] Creating test game...
ğŸ”§ [2025-09-24T01:15:58.649Z] Game created with code: 409691
ğŸ”§ [2025-09-24T01:15:58.649Z] Player Player1 joining game 409691...
ğŸ”§ [2025-09-24T01:15:59.910Z] Player Player1 joined successfully
ğŸ”§ [2025-09-24T01:15:59.910Z] Player Player2 joining game 409691...
ğŸ”§ [2025-09-24T01:16:00.970Z] Player Player2 joined successfully
ğŸ”§ [2025-09-24T01:16:00.970Z] Player Player3 joining game 409691...
ğŸ”§ [2025-09-24T01:16:02.197Z] Player Player3 joined successfully
ğŸ”§ [2025-09-24T01:16:02.197Z] Player Player4 joining game 409691...
ğŸ”§ [2025-09-24T01:16:03.379Z] Player Player4 joined successfully
ğŸ”§ [2025-09-24T01:16:03.379Z] Player Player5 joining game 409691...
ğŸ”§ [2025-09-24T01:16:04.421Z] Player Player5 joined successfully
ğŸ”§ [2025-09-24T01:16:04.421Z] Player Player6 joining game 409691...
ğŸ”§ [2025-09-24T01:16:05.507Z] Player Player6 joined successfully
ğŸ”§ [2025-09-24T01:16:05.507Z] Assigning roles to players...
ğŸ”§ [2025-09-24T01:16:08.625Z] Roles assigned successfully
ğŸ”§ [2025-09-24T01:16:24.078Z] Eliminating player 624ea0ca-bb1b-473c-b2ad-d60c4179e2dd...
ğŸ”§ [2025-09-24T01:16:28.182Z] Player 624ea0ca-bb1b-473c-b2ad-d60c4179e2dd eliminated successfully
ğŸ”§ [2025-09-24T01:16:30.201Z] âœ… Host exclusion test passed
âœ… [2025-09-24T01:16:30.202Z] âœ… Host Exclusion from Win Conditions: PASSED
ğŸ”§ [2025-09-24T01:16:32.202Z] 
ğŸ§ª Running: Winner Declaration Closeable
ğŸ”§ [2025-09-24T01:16:32.203Z] ğŸ§ª Testing winner declaration closeable functionality...
ğŸ”§ [2025-09-24T01:16:32.203Z] Creating test game...
ğŸ”§ [2025-09-24T01:16:33.155Z] Game created with code: 247828
ğŸ”§ [2025-09-24T01:16:33.155Z] Player Player1 joining game 247828...
ğŸ”§ [2025-09-24T01:16:34.246Z] Player Player1 joined successfully
ğŸ”§ [2025-09-24T01:16:34.246Z] Player Player2 joining game 247828...
ğŸ”§ [2025-09-24T01:16:35.250Z] Player Player2 joined successfully
ğŸ”§ [2025-09-24T01:16:35.250Z] Player Player3 joining game 247828...
ğŸ”§ [2025-09-24T01:16:36.300Z] Player Player3 joined successfully
ğŸ”§ [2025-09-24T01:16:36.300Z] Player Player4 joining game 247828...
ğŸ”§ [2025-09-24T01:16:37.541Z] Player Player4 joined successfully
ğŸ”§ [2025-09-24T01:16:37.541Z] Player Player5 joining game 247828...
ğŸ”§ [2025-09-24T01:16:38.922Z] Player Player5 joined successfully
ğŸ”§ [2025-09-24T01:16:38.923Z] Player Player6 joining game 247828...
ğŸ”§ [2025-09-24T01:16:39.864Z] Player Player6 joined successfully
ğŸ”§ [2025-09-24T01:16:39.864Z] Assigning roles to players...
ğŸ”§ [2025-09-24T01:16:43.181Z] Roles assigned successfully
ğŸ”§ [2025-09-24T01:16:58.526Z] Eliminating player 63a7903f-15e4-4bc9-825d-16f449c3b908...
ğŸ”§ [2025-09-24T01:17:02.395Z] Player 63a7903f-15e4-4bc9-825d-16f449c3b908 eliminated successfully
ğŸ”§ [2025-09-24T01:17:04.598Z] âœ… Game state properly maintained
ğŸ”§ [2025-09-24T01:17:04.598Z] âœ… Winner declaration closeable test passed
âœ… [2025-09-24T01:17:04.598Z] âœ… Winner Declaration Closeable: PASSED
ğŸ”§ [2025-09-24T01:17:06.599Z] 
ğŸ§ª Running: Real-time Sync and Frame Refresh
ğŸ”§ [2025-09-24T01:17:06.599Z] ğŸ§ª Testing real-time sync and frame refresh...
ğŸ”§ [2025-09-24T01:17:06.599Z] Creating test game...
ğŸ”§ [2025-09-24T01:17:07.521Z] Game created with code: 638282
ğŸ”§ [2025-09-24T01:17:07.521Z] Player Player1 joining game 638282...
ğŸ”§ [2025-09-24T01:17:08.657Z] Player Player1 joined successfully
ğŸ”§ [2025-09-24T01:17:08.657Z] Player Player2 joining game 638282...
ğŸ”§ [2025-09-24T01:17:09.818Z] Player Player2 joined successfully
ğŸ”§ [2025-09-24T01:17:09.818Z] Player Player3 joining game 638282...
ğŸ”§ [2025-09-24T01:17:10.868Z] Player Player3 joined successfully
ğŸ”§ [2025-09-24T01:17:10.868Z] Player Player4 joining game 638282...
ğŸ”§ [2025-09-24T01:17:11.928Z] Player Player4 joined successfully
ğŸ”§ [2025-09-24T01:17:11.928Z] Player Player5 joining game 638282...
ğŸ”§ [2025-09-24T01:17:12.993Z] Player Player5 joined successfully
ğŸ”§ [2025-09-24T01:17:12.993Z] Player Player6 joining game 638282...
ğŸ”§ [2025-09-24T01:17:14.215Z] Player Player6 joined successfully
ğŸ”§ [2025-09-24T01:17:15.450Z] Assigning roles to players...
ğŸ”§ [2025-09-24T01:17:19.122Z] Roles assigned successfully
âŒ [2025-09-24T01:17:22.305Z] âŒ Real-time sync test failed: Game should transition to night_wolf after role assignment
âŒ [2025-09-24T01:17:22.305Z] âŒ Real-time Sync and Frame Refresh: FAILED
ğŸ”§ [2025-09-24T01:17:24.306Z] 
ğŸ“Š Test Results Summary:
ğŸ”§ [2025-09-24T01:17:24.306Z] Total Tests: 4
âœ… [2025-09-24T01:17:24.306Z] Passed: 2
âŒ [2025-09-24T01:17:24.306Z] Failed: 2
ğŸ”§ [2025-09-24T01:17:24.306Z] 
ğŸ“‹ Detailed Results:
ğŸ”§ [2025-09-24T01:17:24.306Z] âŒ End Game Logic with Two Players: Game should transition to night_wolf after role assignment
ğŸ”§ [2025-09-24T01:17:24.306Z] âœ… Host Exclusion from Win Conditions: Host properly excluded from win conditions
ğŸ”§ [2025-09-24T01:17:24.306Z] âœ… Winner Declaration Closeable: Winner declaration is properly closeable
ğŸ”§ [2025-09-24T01:17:24.306Z] âŒ Real-time Sync and Frame Refresh: Game should transition to night_wolf after role assignment
âŒ [2025-09-24T01:17:24.306Z] 
âŒ Some tests failed. Please check the implementation.
[0;31mâŒ End Game Logic Tests: FAILED[0m

[0;34mğŸ® Running Game Flow Tests[0m

[0;34mğŸ§ª Running: Game Flow Improvement Tests[0m
Test URL: http://localhost:3000
Test File: tests/game-flow/test-game-flow-improvements.js
ğŸ”§ [2025-09-24T01:17:24.349Z] ğŸš€ Starting game flow improvement tests...
ğŸ”§ [2025-09-24T01:17:24.352Z] 
ğŸ§ª Running: Reordered Night Phases (Wolf â†’ Police â†’ Doctor)
ğŸ”§ [2025-09-24T01:17:24.353Z] ğŸ§ª Testing reordered night phases: Wolf â†’ Police â†’ Doctor...
ğŸ”§ [2025-09-24T01:17:24.353Z] Creating test game...
ğŸ”§ [2025-09-24T01:17:25.369Z] Game created with code: 311791
ğŸ”§ [2025-09-24T01:17:25.369Z] Player Player1 joining game 311791...
ğŸ”§ [2025-09-24T01:17:26.309Z] Player Player1 joined successfully
ğŸ”§ [2025-09-24T01:17:26.309Z] Player Player2 joining game 311791...
ğŸ”§ [2025-09-24T01:17:27.329Z] Player Player2 joined successfully
ğŸ”§ [2025-09-24T01:17:27.329Z] Player Player3 joining game 311791...
ğŸ”§ [2025-09-24T01:17:28.326Z] Player Player3 joined successfully
ğŸ”§ [2025-09-24T01:17:28.327Z] Player Player4 joining game 311791...
ğŸ”§ [2025-09-24T01:17:29.225Z] Player Player4 joined successfully
ğŸ”§ [2025-09-24T01:17:29.225Z] Player Player5 joining game 311791...
ğŸ”§ [2025-09-24T01:17:30.104Z] Player Player5 joined successfully
ğŸ”§ [2025-09-24T01:17:30.104Z] Player Player6 joining game 311791...
ğŸ”§ [2025-09-24T01:17:31.014Z] Player Player6 joined successfully
ğŸ”§ [2025-09-24T01:17:31.015Z] Assigning roles to players...
ğŸ”§ [2025-09-24T01:17:33.183Z] Roles assigned successfully
ğŸ”§ [2025-09-24T01:17:34.947Z] âœ… Roles assigned in lobby (PASSED)
ğŸ”§ [2025-09-24T01:17:37.902Z] âœ… Lobby â†’ Night Wolf via host next_phase (PASSED)
ğŸ”§ [2025-09-24T01:17:37.902Z] Player performing action: wolf_select on a2fdcf09-d80d-481f-922c-de67963c9b98
ğŸ”§ [2025-09-24T01:17:39.111Z] Player action wolf_select completed successfully
ğŸ”§ [2025-09-24T01:17:40.113Z] Host performing action: next_phase
ğŸ”§ [2025-09-24T01:17:40.841Z] Host action next_phase completed successfully
ğŸ”§ [2025-09-24T01:17:43.060Z] âœ… Phase 3: Night Wolf â†’ Night Doctor (PASSED)
ğŸ”§ [2025-09-24T01:17:43.062Z] Player performing action: doctor_save on a1849b18-cc2a-40d9-8330-e42580ae8634
ğŸ”§ [2025-09-24T01:17:44.040Z] Player action doctor_save completed successfully
ğŸ”§ [2025-09-24T01:17:45.041Z] Host performing action: next_phase
ğŸ”§ [2025-09-24T01:17:45.689Z] Host action next_phase completed successfully
ğŸ”§ [2025-09-24T01:17:47.620Z] âœ… Phase 4: Night Doctor â†’ Night Police (PASSED)
ğŸ”§ [2025-09-24T01:17:47.621Z] Player performing action: police_inspect on a1849b18-cc2a-40d9-8330-e42580ae8634
ğŸ”§ [2025-09-24T01:17:48.646Z] Player action police_inspect completed successfully
ğŸ”§ [2025-09-24T01:17:49.646Z] Host performing action: next_phase
ğŸ”§ [2025-09-24T01:17:50.270Z] Host action next_phase completed successfully
ğŸ”§ [2025-09-24T01:17:52.263Z] âœ… Phase 5: Night Police â†’ Reveal (PASSED)
ğŸ”§ [2025-09-24T01:17:52.263Z] âœ… Reordered night phases test passed
âœ… [2025-09-24T01:17:52.263Z] âœ… Reordered Night Phases (Wolf â†’ Police â†’ Doctor): PASSED
ğŸ”§ [2025-09-24T01:17:54.264Z] 
ğŸ§ª Running: Manual Voting Controls
ğŸ”§ [2025-09-24T01:17:54.264Z] ğŸ§ª Testing manual voting controls...
ğŸ”§ [2025-09-24T01:17:54.264Z] Creating test game...
ğŸ”§ [2025-09-24T01:17:55.121Z] Game created with code: 009556
ğŸ”§ [2025-09-24T01:17:55.121Z] Player Player1 joining game 009556...
ğŸ”§ [2025-09-24T01:17:56.215Z] Player Player1 joined successfully
ğŸ”§ [2025-09-24T01:17:56.215Z] Player Player2 joining game 009556...
ğŸ”§ [2025-09-24T01:17:57.190Z] Player Player2 joined successfully
ğŸ”§ [2025-09-24T01:17:57.190Z] Player Player3 joining game 009556...
ğŸ”§ [2025-09-24T01:17:58.126Z] Player Player3 joined successfully
ğŸ”§ [2025-09-24T01:17:58.127Z] Player Player4 joining game 009556...
ğŸ”§ [2025-09-24T01:17:59.143Z] Player Player4 joined successfully
ğŸ”§ [2025-09-24T01:17:59.143Z] Player Player5 joining game 009556...
ğŸ”§ [2025-09-24T01:18:00.220Z] Player Player5 joined successfully
ğŸ”§ [2025-09-24T01:18:00.220Z] Player Player6 joining game 009556...
ğŸ”§ [2025-09-24T01:18:01.316Z] Player Player6 joined successfully
ğŸ”§ [2025-09-24T01:18:01.316Z] Assigning roles to players...
ğŸ”§ [2025-09-24T01:18:03.855Z] Roles assigned successfully
ğŸ”§ [2025-09-24T01:18:07.430Z] Player performing action: wolf_select on a4ab074a-c0ed-4052-8c2a-55e9a8c2847c
ğŸ”§ [2025-09-24T01:18:08.286Z] Player action wolf_select completed successfully
ğŸ”§ [2025-09-24T01:18:08.286Z] Host performing action: next_phase
ğŸ”§ [2025-09-24T01:18:08.955Z] Host action next_phase completed successfully
ğŸ”§ [2025-09-24T01:18:09.956Z] Player performing action: doctor_save on a4ab074a-c0ed-4052-8c2a-55e9a8c2847c
ğŸ”§ [2025-09-24T01:18:10.878Z] Player action doctor_save completed successfully
ğŸ”§ [2025-09-24T01:18:10.878Z] Host performing action: next_phase
ğŸ”§ [2025-09-24T01:18:11.545Z] Host action next_phase completed successfully
ğŸ”§ [2025-09-24T01:18:12.546Z] Player performing action: police_inspect on a4ab074a-c0ed-4052-8c2a-55e9a8c2847c
ğŸ”§ [2025-09-24T01:18:13.683Z] Player action police_inspect completed successfully
ğŸ”§ [2025-09-24T01:18:13.683Z] Host performing action: next_phase
ğŸ”§ [2025-09-24T01:18:14.326Z] Host action next_phase completed successfully
ğŸ”§ [2025-09-24T01:18:16.454Z] âœ… Reached reveal phase successfully
ğŸ”§ [2025-09-24T01:18:19.602Z] âœ… No automatic voting transition (PASSED)
ğŸ”§ [2025-09-24T01:18:19.602Z] Host performing action: begin_voting
ğŸ”§ [2025-09-24T01:18:20.543Z] Host action begin_voting completed successfully
ğŸ”§ [2025-09-24T01:18:22.746Z] âœ… Manual begin voting works (PASSED)
ğŸ”§ [2025-09-24T01:18:23.845Z] Player performing action: vote on a4ab074a-c0ed-4052-8c2a-55e9a8c2847c
ğŸ”§ [2025-09-24T01:18:24.571Z] Player action vote completed successfully
ğŸ”§ [2025-09-24T01:18:25.572Z] Host performing action: final_vote
ğŸ”§ [2025-09-24T01:18:26.643Z] Host action final_vote completed successfully
ğŸ”§ [2025-09-24T01:18:28.628Z] âœ… Manual final vote works (PASSED)
ğŸ”§ [2025-09-24T01:18:28.628Z] âœ… Manual voting controls test passed
âœ… [2025-09-24T01:18:28.629Z] âœ… Manual Voting Controls: PASSED
ğŸ”§ [2025-09-24T01:18:30.630Z] 
ğŸ§ª Running: Host Button Labels and Visibility
ğŸ”§ [2025-09-24T01:18:30.630Z] ğŸ§ª Testing host button labels and visibility...
ğŸ”§ [2025-09-24T01:18:30.631Z] Creating test game...
ğŸ”§ [2025-09-24T01:18:31.447Z] Game created with code: 021729
ğŸ”§ [2025-09-24T01:18:31.447Z] Player Player1 joining game 021729...
ğŸ”§ [2025-09-24T01:18:32.479Z] Player Player1 joined successfully
ğŸ”§ [2025-09-24T01:18:32.480Z] Player Player2 joining game 021729...
ğŸ”§ [2025-09-24T01:18:33.465Z] Player Player2 joined successfully
ğŸ”§ [2025-09-24T01:18:33.465Z] Player Player3 joining game 021729...
ğŸ”§ [2025-09-24T01:18:34.439Z] Player Player3 joined successfully
ğŸ”§ [2025-09-24T01:18:34.439Z] Player Player4 joining game 021729...
ğŸ”§ [2025-09-24T01:18:35.408Z] Player Player4 joined successfully
ğŸ”§ [2025-09-24T01:18:35.408Z] Player Player5 joining game 021729...
ğŸ”§ [2025-09-24T01:18:36.373Z] Player Player5 joined successfully
ğŸ”§ [2025-09-24T01:18:36.373Z] Player Player6 joining game 021729...
ğŸ”§ [2025-09-24T01:18:37.448Z] Player Player6 joined successfully
ğŸ”§ [2025-09-24T01:18:38.935Z] âœ… Lobby phase: Assign Roles button should be visible
ğŸ”§ [2025-09-24T01:18:38.936Z] Assigning roles to players...
ğŸ”§ [2025-09-24T01:18:40.585Z] Roles assigned successfully
ğŸ”§ [2025-09-24T01:18:45.289Z] âœ… Night Wolf phase: Wake Up Police button should be visible
ğŸ”§ [2025-09-24T01:18:46.340Z] Player performing action: wolf_select on 8608b945-95e5-4fe0-af10-87d4d4249e57
ğŸ”§ [2025-09-24T01:18:47.384Z] Player action wolf_select completed successfully
ğŸ”§ [2025-09-24T01:18:47.385Z] Host performing action: next_phase
ğŸ”§ [2025-09-24T01:18:48.249Z] Host action next_phase completed successfully
ğŸ”§ [2025-09-24T01:18:50.329Z] âœ… Night Doctor phase: Wake Up Police button should be visible
ğŸ”§ [2025-09-24T01:18:50.329Z] Player performing action: doctor_save on 8608b945-95e5-4fe0-af10-87d4d4249e57
ğŸ”§ [2025-09-24T01:18:51.420Z] Player action doctor_save completed successfully
ğŸ”§ [2025-09-24T01:18:51.420Z] Host performing action: next_phase
ğŸ”§ [2025-09-24T01:18:52.292Z] Host action next_phase completed successfully
ğŸ”§ [2025-09-24T01:18:54.405Z] âœ… Night Police phase: Reveal the Dead button should be visible
ğŸ”§ [2025-09-24T01:18:54.406Z] Player performing action: police_inspect on 8608b945-95e5-4fe0-af10-87d4d4249e57
ğŸ”§ [2025-09-24T01:18:55.621Z] Player action police_inspect completed successfully
ğŸ”§ [2025-09-24T01:18:55.621Z] Host performing action: next_phase
ğŸ”§ [2025-09-24T01:18:56.287Z] Host action next_phase completed successfully
ğŸ”§ [2025-09-24T01:18:58.248Z] âœ… Reveal phase: Begin Initial Voting button should be visible
ğŸ”§ [2025-09-24T01:18:58.248Z] Host performing action: begin_voting
ğŸ”§ [2025-09-24T01:18:59.056Z] Host action begin_voting completed successfully
ğŸ”§ [2025-09-24T01:19:01.151Z] âœ… Day Vote phase: Final Vote button should be visible
ğŸ”§ [2025-09-24T01:19:01.151Z] âœ… Host button labels test passed
âœ… [2025-09-24T01:19:01.151Z] âœ… Host Button Labels and Visibility: PASSED
ğŸ”§ [2025-09-24T01:19:03.152Z] 
ğŸ§ª Running: Complete Game Flow with New Controls
ğŸ”§ [2025-09-24T01:19:03.152Z] ğŸ§ª Testing complete game flow with new controls...
ğŸ”§ [2025-09-24T01:19:03.152Z] Creating test game...
ğŸ”§ [2025-09-24T01:19:04.100Z] Game created with code: 737734
ğŸ”§ [2025-09-24T01:19:04.101Z] Player Player1 joining game 737734...
ğŸ”§ [2025-09-24T01:19:05.260Z] Player Player1 joined successfully
ğŸ”§ [2025-09-24T01:19:05.260Z] Player Player2 joining game 737734...
ğŸ”§ [2025-09-24T01:19:06.395Z] Player Player2 joined successfully
ğŸ”§ [2025-09-24T01:19:06.395Z] Player Player3 joining game 737734...
ğŸ”§ [2025-09-24T01:19:07.404Z] Player Player3 joined successfully
ğŸ”§ [2025-09-24T01:19:07.404Z] Player Player4 joining game 737734...
ğŸ”§ [2025-09-24T01:19:08.372Z] Player Player4 joined successfully
ğŸ”§ [2025-09-24T01:19:08.372Z] Player Player5 joining game 737734...
ğŸ”§ [2025-09-24T01:19:09.453Z] Player Player5 joined successfully
ğŸ”§ [2025-09-24T01:19:09.453Z] Player Player6 joining game 737734...
ğŸ”§ [2025-09-24T01:19:10.602Z] Player Player6 joined successfully
ğŸ”§ [2025-09-24T01:19:10.602Z] Starting complete game flow test...
ğŸ”§ [2025-09-24T01:19:10.602Z] Assigning roles to players...
ğŸ”§ [2025-09-24T01:19:12.401Z] Roles assigned successfully
ğŸ”§ [2025-09-24T01:19:16.835Z] Player performing action: wolf_select on f235f8d4-db7f-4df2-afe5-c5661625f441
ğŸ”§ [2025-09-24T01:19:18.020Z] Player action wolf_select completed successfully
ğŸ”§ [2025-09-24T01:19:18.020Z] Host performing action: next_phase
ğŸ”§ [2025-09-24T01:19:18.739Z] Host action next_phase completed successfully
ğŸ”§ [2025-09-24T01:19:19.741Z] Player performing action: doctor_save on f235f8d4-db7f-4df2-afe5-c5661625f441
ğŸ”§ [2025-09-24T01:19:20.846Z] Player action doctor_save completed successfully
ğŸ”§ [2025-09-24T01:19:20.846Z] Host performing action: next_phase
ğŸ”§ [2025-09-24T01:19:21.556Z] Host action next_phase completed successfully
ğŸ”§ [2025-09-24T01:19:22.556Z] Player performing action: police_inspect on f235f8d4-db7f-4df2-afe5-c5661625f441
ğŸ”§ [2025-09-24T01:19:23.779Z] Player action police_inspect completed successfully
ğŸ”§ [2025-09-24T01:19:23.779Z] Host performing action: next_phase
ğŸ”§ [2025-09-24T01:19:24.490Z] Host action next_phase completed successfully
ğŸ”§ [2025-09-24T01:19:25.491Z] Host performing action: begin_voting
ğŸ”§ [2025-09-24T01:19:26.143Z] Host action begin_voting completed successfully
ğŸ”§ [2025-09-24T01:19:28.878Z] Player performing action: vote on f235f8d4-db7f-4df2-afe5-c5661625f441
ğŸ”§ [2025-09-24T01:19:29.510Z] Player action vote completed successfully
ğŸ”§ [2025-09-24T01:19:29.510Z] Host performing action: final_vote
ğŸ”§ [2025-09-24T01:19:30.280Z] Host action final_vote completed successfully
ğŸ”§ [2025-09-24T01:19:31.280Z] Host performing action: eliminate_player
ğŸ”§ [2025-09-24T01:19:32.812Z] Host action eliminate_player completed successfully
ğŸ”§ [2025-09-24T01:19:34.574Z] âœ… No player eliminated (doctor saved target)
ğŸ”§ [2025-09-24T01:19:34.574Z] âœ… Game cycles back to night_wolf
ğŸ”§ [2025-09-24T01:19:34.574Z] âœ… Complete game flow test passed
âœ… [2025-09-24T01:19:34.574Z] âœ… Complete Game Flow with New Controls: PASSED
ğŸ”§ [2025-09-24T01:19:36.575Z] 
ğŸ§ª Running: Werewolf Screen Timing Fix
ğŸ”§ [2025-09-24T01:19:36.575Z] ğŸ§ª Testing Werewolf Screen Timing Fix
ğŸ”§ [2025-09-24T01:19:36.575Z] Creating test game...
ğŸ”§ [2025-09-24T01:19:37.531Z] Game created with code: 807600
ğŸ”§ [2025-09-24T01:19:37.531Z] Player Player1 joining game 807600...
ğŸ”§ [2025-09-24T01:19:38.562Z] Player Player1 joined successfully
ğŸ”§ [2025-09-24T01:19:38.563Z] Player Player2 joining game 807600...
ğŸ”§ [2025-09-24T01:19:39.606Z] Player Player2 joined successfully
ğŸ”§ [2025-09-24T01:19:39.606Z] Player Player3 joining game 807600...
ğŸ”§ [2025-09-24T01:19:40.588Z] Player Player3 joined successfully
ğŸ”§ [2025-09-24T01:19:40.588Z] Player Player4 joining game 807600...
ğŸ”§ [2025-09-24T01:19:41.479Z] Player Player4 joined successfully
ğŸ”§ [2025-09-24T01:19:41.479Z] Player Player5 joining game 807600...
ğŸ”§ [2025-09-24T01:19:42.444Z] Player Player5 joined successfully
ğŸ”§ [2025-09-24T01:19:42.444Z] Player Player6 joining game 807600...
ğŸ”§ [2025-09-24T01:19:43.353Z] Player Player6 joined successfully
ğŸ”§ [2025-09-24T01:19:43.353Z] Assigning roles to players...
ğŸ”§ [2025-09-24T01:19:45.686Z] Roles assigned successfully
ğŸ”§ [2025-09-24T01:19:49.688Z] âœ… Werewolf screen timing fix test passed
âœ… [2025-09-24T01:19:49.688Z] âœ… Werewolf Screen Timing Fix: PASSED
ğŸ”§ [2025-09-24T01:19:51.689Z] 
ğŸ§ª Running: Host Control Over Night Phase
ğŸ”§ [2025-09-24T01:19:51.690Z] ğŸ§ª Testing Host Control Over Night Phase
ğŸ”§ [2025-09-24T01:19:51.690Z] Creating test game...
ğŸ”§ [2025-09-24T01:19:52.613Z] Game created with code: 342439
ğŸ”§ [2025-09-24T01:19:52.614Z] Player Player1 joining game 342439...
ğŸ”§ [2025-09-24T01:19:53.496Z] Player Player1 joined successfully
ğŸ”§ [2025-09-24T01:19:53.496Z] Player Player2 joining game 342439...
ğŸ”§ [2025-09-24T01:19:54.424Z] Player Player2 joined successfully
ğŸ”§ [2025-09-24T01:19:54.425Z] Player Player3 joining game 342439...
ğŸ”§ [2025-09-24T01:19:55.345Z] Player Player3 joined successfully
ğŸ”§ [2025-09-24T01:19:55.345Z] Player Player4 joining game 342439...
ğŸ”§ [2025-09-24T01:19:56.432Z] Player Player4 joined successfully
ğŸ”§ [2025-09-24T01:19:56.432Z] Player Player5 joining game 342439...
ğŸ”§ [2025-09-24T01:19:57.360Z] Player Player5 joined successfully
ğŸ”§ [2025-09-24T01:19:57.360Z] Player Player6 joining game 342439...
ğŸ”§ [2025-09-24T01:19:58.317Z] Player Player6 joined successfully
ğŸ”§ [2025-09-24T01:19:58.317Z] Assigning roles to players...
ğŸ”§ [2025-09-24T01:20:00.072Z] Roles assigned successfully
ğŸ”§ [2025-09-24T01:20:04.195Z] âœ… Host control over night phase test passed
âœ… [2025-09-24T01:20:04.195Z] âœ… Host Control Over Night Phase: PASSED
ğŸ”§ [2025-09-24T01:20:06.195Z] 
ğŸ§ª Running: Game Phase Transitions
ğŸ”§ [2025-09-24T01:20:06.196Z] ğŸ§ª Testing Game Phase Transitions
ğŸ”§ [2025-09-24T01:20:06.196Z] Creating test game...
ğŸ”§ [2025-09-24T01:20:06.999Z] Game created with code: 030879
ğŸ”§ [2025-09-24T01:20:06.999Z] Player Player1 joining game 030879...
ğŸ”§ [2025-09-24T01:20:07.944Z] Player Player1 joined successfully
ğŸ”§ [2025-09-24T01:20:07.944Z] Player Player2 joining game 030879...
ğŸ”§ [2025-09-24T01:20:08.949Z] Player Player2 joined successfully
ğŸ”§ [2025-09-24T01:20:08.949Z] Player Player3 joining game 030879...
ğŸ”§ [2025-09-24T01:20:09.927Z] Player Player3 joined successfully
ğŸ”§ [2025-09-24T01:20:09.927Z] Player Player4 joining game 030879...
ğŸ”§ [2025-09-24T01:20:10.892Z] Player Player4 joined successfully
ğŸ”§ [2025-09-24T01:20:10.892Z] Player Player5 joining game 030879...
ğŸ”§ [2025-09-24T01:20:11.851Z] Player Player5 joined successfully
ğŸ”§ [2025-09-24T01:20:11.851Z] Player Player6 joining game 030879...
ğŸ”§ [2025-09-24T01:20:12.911Z] Player Player6 joined successfully
ğŸ”§ [2025-09-24T01:20:12.911Z] Assigning roles to players...
ğŸ”§ [2025-09-24T01:20:16.287Z] Roles assigned successfully
ğŸ”§ [2025-09-24T01:20:24.448Z] âœ… Game phase transitions test passed
âœ… [2025-09-24T01:20:24.448Z] âœ… Game Phase Transitions: PASSED
ğŸ”§ [2025-09-24T01:20:26.449Z] 
ğŸ“Š Test Results Summary:
ğŸ”§ [2025-09-24T01:20:26.449Z] Total Tests: 7
âœ… [2025-09-24T01:20:26.449Z] Passed: 7
âœ… [2025-09-24T01:20:26.449Z] Failed: 0
ğŸ”§ [2025-09-24T01:20:26.449Z] 
ğŸ“‹ Detailed Results:
ğŸ”§ [2025-09-24T01:20:26.449Z] âœ… Reordered Night Phases (Wolf â†’ Police â†’ Doctor): Night phases follow correct order: Wolf â†’ Police â†’ Doctor
ğŸ”§ [2025-09-24T01:20:26.449Z] âœ… Manual Voting Controls: Manual voting controls work correctly
ğŸ”§ [2025-09-24T01:20:26.449Z] âœ… Host Button Labels and Visibility: Host button labels and visibility work correctly
ğŸ”§ [2025-09-24T01:20:26.449Z] âœ… Complete Game Flow with New Controls: Complete game flow with new controls works correctly
ğŸ”§ [2025-09-24T01:20:26.449Z] âœ… Werewolf Screen Timing Fix: Werewolf screen timing fix works correctly
ğŸ”§ [2025-09-24T01:20:26.449Z] âœ… Host Control Over Night Phase: Host control over night phase works correctly
ğŸ”§ [2025-09-24T01:20:26.449Z] âœ… Game Phase Transitions: Game phase transitions work correctly
âœ… [2025-09-24T01:20:26.449Z] 
ğŸ‰ All tests passed! Game flow improvements are working correctly.
[0;32mâœ… Game Flow Improvement Tests: PASSED[0m

[0;34mâš¡ Running Performance Tests[0m

[0;34mğŸ§ª Running: Battery Optimization Tests[0m
Test URL: http://localhost:3000
Test File: tests/performance/battery-optimization.test.js
âš¡ Starting Battery Optimization Performance Tests
ğŸ“ Testing against: http://localhost:3000

ğŸ® Setting up test game...
âœ… Game created with code: 890497
âœ… Player 1 joined: Player1
âœ… Player 2 joined: Player2
âœ… Player 3 joined: Player3
âœ… Player 4 joined: Player4
âœ… Player 5 joined: Player5
âœ… Player 6 joined: Player6
âœ… Game setup complete with 7 total players

ğŸ§ª Running test: Debounced Updates

âš¡ Testing debounced updates...
âœ… Game started successfully
âœ… Debounced updates working efficiently
âœ… Debounced Updates - PASSED

ğŸ§ª Running test: Console Logging Optimization

ğŸ“ Testing console logging optimization...
âœ… Running in development mode - full console logging enabled
âœ… Console logging optimization verified
âœ… Console Logging Optimization - PASSED

ğŸ§ª Running test: Real-time Efficiency

ğŸ”„ Testing real-time efficiency...
âœ… Real-time sync is efficient
âœ… Real-time Efficiency - PASSED

ğŸ§ª Running test: Memory Usage

ğŸ’¾ Testing memory usage...
âœ… Memory usage is efficient (increase: 165.484375KB)
âœ… Memory Usage - PASSED

ğŸ§ª Running test: Network Efficiency

ğŸŒ Testing network efficiency...
âœ… Network efficiency is good (244ms average)
âœ… Network Efficiency - PASSED

ğŸ“Š Battery Optimization Performance Test Results:
==================================================
âœ… Debounced Updates: PASSED
âœ… Console Logging Optimization: PASSED
âœ… Real-time Efficiency: PASSED
âœ… Memory Usage: PASSED
âœ… Network Efficiency: PASSED
==================================================
Total: 5 | Passed: 5 | Failed: 0
ğŸ‰ All battery optimization performance tests passed!
[0;32mâœ… Battery Optimization Tests: PASSED[0m

[0;34mğŸ“Š Test Results Summary[0m
==================================================
Total Tests: [0;34m13[0m
Passed: [0;32m9[0m
Failed: [0;31m4[0m
Success Rate: [0;34m69%[0m

[0;31mâŒ Some tests failed. Please check the implementation.[0m
